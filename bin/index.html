<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Thaw</title>

		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="main.css">
		<!-- CSS -->
		
		<!-- JQuery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<!-- JQuery -->

		<!-- bootstrap -->
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<!-- bootstrap -->
		
		<!-- javascript -->
		<script type="text/javascript" src="javascript.js" ></script>
  		<script src="//cdn.jsdelivr.net/sockjs/0.3.4/sockjs.min.js"></script>
  		<script src="vertx-eventbus.js"></script>
  		<script>
			  var eb = new EventBus("/eventbus/");
			  eb.onopen = function () {
			    eb.registerHandler("chat.to.client", function (err, msg) {
			      var div = document.getElementById('chat');
            var msgdiv = '<div class="chat-box-left">'+
                              msg.body +
                          '</div>'+
                          '<div class="chat-box-name-left">'+
                              '-  Amine Liazidi'+
                          '</div>'+
                          '<hr class="hr-clas" />';

            div.innerHTML = div.innerHTML + msgdiv;
            var elem = document.getElementById('chat')
            elem.scrollTop = elem.scrollHeight;
			    });
			  };

			  function send(event) {
			    if (event.keyCode == 13 || event.which == 13) {
			      var message = document.getElementById('input').value;
			      if (message.length > 0) {
			        eb.publish("chat.to.server", message);
			        document.getElementById('input').value = "";
			      }
			    }
			  }
  		</script>
		<!-- javascript -->

	</head>
	<body>
		<!-- wrapper -->
		<div class="flexbox-parent wrapper">
			
			<!-- header -->
			<div class="flexbox-item header">
				<header>
				   <h1>Thaw</h1>
				</header>
			</div>
			<!-- header -->
			
			<!-- content -->
			<div class="flexbox-item fill-area content flexbox-item-grow">	 
				
				<!-- chatbox container -->
				<div class="fill-area-content flexbox-item-grow chatbox">

					<!-- navbar -->
					<div id="mySidenav" class="sidenav">
					  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
					  <a href="#">New channel</a>
					  <a href="#">Channel 1</a>
					  <a href="#">Channel 2</a>
					  <a href="#">Channel 3</a>
					</div>
					<!-- navbar -->
					
					<!-- chatbox -->
					<div class="chat-box-div">
	                    <div class="chat-box-head">
		                    <span id="nav-button" onclick="openNav()">&#9776; open</span>
		                    Channel 1
	                    </div>
	                    <div id="chat" class="panel-body chat-box-main">

	                        <hr class="hr-clas" />
	                    </div>
	                    <div class="chat-box-footer">
	                        <div class="col-xs-12 input-group">
	                            <input id="input" class="form-control" type="text" onkeydown="send(event)" placeholder="Enter Text Here...">
                              </input>
	                        </div>
	                    </div>

	                </div>
	                <!-- chatbox -->
				</div>
				<!-- chatbox container-->
			</div>
			<!-- content -->
			
			<!-- footer -->
			<div class="flexbox-item footer">Copyright Â© Liazidi Amine</div>
			<!-- footer -->

		</div>
		<!-- wrapper -->

	</body>
</html>