<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <!--  This file has been downloaded from bootdey.com    @bootdey on twitter -->
    <!--  All snippets are MIT license http://bootdey.com/license -->
    <!-- 
    	The codes are free, but we require linking to our web site.
    	Why to Link?
    	A true story: one girl didn't set a link and had no decent date for two years, and another guy set a link and got a top ranking in Google! 
    	Where to Put the Link?
    	home, about, credits... or in a good page that you want
    	THANK YOU MY FRIEND!
    -->
    <title>chat room - Bootdey.com</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//cdn.jsdelivr.net/sockjs/0.3.4/sockjs.min.js"></script>
    <script src="vertx-eventbus.js"></script>
        <script src="functions.js"></script>
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
    <link href="chat_room.css" rel="stylesheet" type="text/css">
</head>
<body onload="loadChannelList()">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <div class="container bootstrap snippet">
    <div class="row">
      <div class="search navbar-form navbar-right">
          <div class="input-group">
              <input type="text" class="form-control" placeholder="Search" name="srch-term" id="srch-term">
              <div class="input-group-btn">
                  <button class="btn btn-info" type="button" id="search"> <i class="glyphicon glyphicon-search"></i>

                  </button>
              </div>
          </div>
          <button type="button" class="btn btn-danger" onclick="logout()">Logout</button>
      </div>
  		<div class="col-md-4 bg-white ">
        <!-- =============================================================== -->
        <!-- channel list -->
        <a class="active bounceInDown">
            <a href="#" id="channel-list-title" class="clearfix">
              <div class="friend-name"> 
                <strong>Channels<span data-toggle="modal" href="#myModal" class="btn-danger closebtn badge newchannel-btn">&#43;</span></strong>
              </div>
            </a>
        </a>
        <ul class="friend-list" id="channel-list">
            
        </ul>
  		</div>
          
      <!--=========================================================-->
      <!-- selected chat -->
    	<div class="col-md-8 bg-white ">
        <div class="chat-message">
          <ul class="chat" id="chat-list">
                                 
          </ul>
        </div>
        <div class="chat-box bg-white">
        	<div class="input-group">
        		<input class="form-control border no-shadow no-rounded" placeholder="Type your message here" onkeydown="send(event)" type="text" id="input">
      		  <span class="input-group-btn">
      			 <button class="btn btn-success no-rounded" type="button" onclick="sendInput()">Send</button>
      		  </span>
        	</div><!-- /input-group -->	
        </div>            
  	  </div>

	  </div>
  </div>

<!-- modal new channel -->
<div id="myModal" class="modal fade">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">New channel</h4>
          </div>
          <form class="modal-body" method="POST" action="/addCh">
              <div class="form-group">
                <label for="ch-title">Name:</label>
                <input required type="text" class="form-control" id="ch-title" name="ch-title" placeholder="Channel title" pattern="[A-Za-z]{12}">
              </div>
              <p class="text-warning"><small>If you don't submit, your changes will be lost.</small></p>
              <button class="btn btn-primary" type="submit">Submit</button>
          </form>
          <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
      </div>
  </div>
</div>
<!-- modal new channel -->

<script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript">
  $('#search').click(function(){
    $('.message').hide();
    var txt = $('#srch-term').val();
    $('#chat :contains("'+txt+'")').show();
  });
  function sendInput(){
    var e = new Event("keydown");
    e.which = 13;
    e.keyCode = 13;
    send(e);
  }
</script>
</body>
</html>